<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Med'z Laundry Shop</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="assets/style.css">
</head>
<body>
    <header>
        <nav class="nav">
            <div class="nav-brand">
                <img src="assets/images/logo.png">
                <div class="brand-text-main">
                    <a href="index.html">MED'Z LAUNDRY SHOP</a>
                </div>
            </div>
            <div class="nav-links">
                <a href="home.html">Home</a>
                <a href="about.html">About</a>
                <a href="service.html">Service</a>
                <a href="overview.html">Overview</a>
                <a href="inquiry.html" class="active">Inquiry</a>
                <a href="booking.html">Booking</a>
            </div>
            <div class="nav-cta">
                <a href="#" class="btn btn-accent hidden" id="btn-header-login">owner login</a>
            </div>
        </nav>
    </header>
    <main class="page">
        <section id="inquiry">
            <h2 class="section-title" style="text-align:center;">General Inquiry</h2>
            <div class="section-tagline" style="text-align: center;">QUESTIONS & SPECIAL REQUESTS</div>
            <div class="form-grid">
                <div class="form-card">
                    <div class="form-title">Ask us anything about your laundry</div>
                    <div class="form-subtitle">
                        Use this form if you have questions about stains, special fabrics, bulk loads, or regular weekly service.
                    </div>
                    <form id="form-inquiry">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="inq-name">Full Name</label>
                                <input type="text" id="inq-name" name="name" placeholder="Juan Dela Cruz" required />
                            </div>
                            <div class="form-group">
                                <label for="inq-phone">Mobile Number</label>
                                <input type="tel" id="inq-phone" name="phone" placeholder="09XX-XXX-XXXX" required />
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inq-email">Email (optional)</label>
                            <input type="email" id="inq-email" name="email" placeholder="you@example.com" />
                        </div>
                        <div class="form-group">
                            <label for="inq-topic">What is your concern about?</label>
                            <select id="inq-topic" name="topic" required>
                                <option value="">Select a topic</option>
                                <option>Pricing & packages</option>
                                <option>Pickup & delivery area</option>
                                <option>Delicates & baby clothes</option>
                                <option>Others</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="inq-message">Your message</label>
                            <textarea id="inq-message" name="message" placeholder="Tell us more about your laundry concern or request..." required></textarea>
                            <div class="form-hint">
                                We typically respond within the same day during operating hours.
                            </div>
                        </div>
                        <div class="form-footer">
                            <button type="submit" class="btn btn-accent">Send Inquiry</button>
                        </div>
                    </form>
                </div>
                <div class="form-card">
                    <div class="form-title">Shop Details</div>
                    <div class="form-subtitle">
                        Visit us or send a message before dropping by especially for big loads.
                    </div>
                    <p>
                        <strong>Address:</strong>
                        <br /> brgy Virata GMA, Cavite, Philippines
                    </p>
                    <br />
                    <p>
                        <strong>Contact:</strong>
                        <br /> 09217702883
                        <br />
                    </p>
                    <br />
                    <p>
                        <strong>Facebook:</strong>
                        <br /> MEDZ laundry
                    </p>
                    <br />
                    <p>
                        <strong>Operating hours:</strong>
                        <br /> Monday – Sunday, 8:00 AM – 10:00 PM
                    </p>
                </div>
            </div>
        </section>
    </main>
    <footer>
        &copy; <span>Med'z Laundry Shop</span>
    </footer>

    <script src="config.js"></script>
    <script type="module">
      import {
        initializeApp
      } from 'https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js';
      import {
        getDatabase,
        ref,
        push
      } from 'https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js'
      import {
        getAuth,
        onAuthStateChanged
      } from 'https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js'

      const app = initializeApp(window.FIREBASE_CONFIG);
      const auth = getAuth(app)
      const db = getDatabase(app)

      onAuthStateChanged(auth, (user) => {
        const el = document.getElementById('btn-header-login')

        if (user) {
          el.innerHTML = 'Dashboard'
          el.href = 'admin-inquiry-records.html'
        } else {
          el.innerHTML = 'Owner Login'
          el.href = 'login.html'
        }
        el.classList.remove('hidden')
      })

      const inquiryRef = ref(db, 'inquiries')

      const form = document.getElementById('form-inquiry')
      const name = document.getElementById('inq-name')
      const phone = document.getElementById('inq-phone')
      const email = document.getElementById('inq-email')
      const topic = document.getElementById('inq-topic')
      const message = document.getElementById('inq-message')

      form.addEventListener('submit', (e) => {
        e.preventDefault()
        push(inquiryRef, {
          name: name.value,
          phone: phone.value,
          email: email.value,
          topic: topic.value,
          message: message.value,
        }).then(() => {
          alert('Inquiry Sent!')
          form.reset()
        })
      })
    </script>
</body>
</html>
